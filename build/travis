#!/bin/sh
set -e
BRANCHES="$1"
shift

#
# Note: the way in which we use TRAVIS_BRANCH here makes sense only if
# the current build is triggered by a push, not by a pull request.
#
# Since we currently do not build pull requests, this usage is okay.
#

if echo "$BRANCHES" | grep -q "$TRAVIS_BRANCH"; then
    ./build/docker/docker "$@"
else
    echo "Not building branch $TRAVIS_BRANCH."
    echo "This build should only run for branches: $BRANCHES."
fi
